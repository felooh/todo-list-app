{% extends 'todos/layout.html' %}

{% block body %}
{% comment %} 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 {% endcomment %}

 <div>
  <h3>Task details for: {{task.task}}</h3>
  {% if details %}
    <ul>
      <li>
          {{  details }}
      </li>
      <li> Deadline Date & Time:
        {{ deadline }}
      </li>
      
      {% if task.get_remaining_time.days < 0 %}
          This deadline expired <span id="number"></span> days ago 
      {% else %}
          <span id="number"></span> days remaining.
      {% endif %}
    
  
    </ul>
  {% else %}
    <h7>Oops! No details for this task.<h7>
  {% endif %}
  <br><br>
  <script>
    var days = {{ task.get_remaining_time.days }};
  
    let unsignedDays = Math.abs(days);
  
    console.log(unsignedDays);
  
    document.getElementById("number").innerHTML = unsignedDays; 
  </script>
 </div>
   
  
  
  <a href="{% url 'todolist:index'  %}" class = "btn btn-primary">Go Back</a>
  <a href="{% url 'todolist:deleteTask' task.id %}" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this task?')">Delete</a>
  {% if task.is_complete %}
      <span style="display: none;">
        <a href="{% url 'todolist:markAsDone' task.id %}" class="btn btn-success" onclick="return confirm('Confirm you have completed this task')">Mark as Done</a>
      </span>
  {% else %}
      <a href="{% url 'todolist:markAsDone' task.id %}" class="btn btn-success" onclick="return confirm('Confirm you have completed this task')">Mark as Done</a>
  {% endif %}

  <a href= "{% url 'todolist:editTask' task.id %}" class ="btn btn-dark">Edit</a>


{% endblock body %}


